<div id="uuFooterFixed" style="position: fixed; height: {{ fixedAreaHeight }}px; background-color: white; z-index: 99; bottom: 0px; width: 860px; border-top: 10px solid #449bca;">

    <button id="btnAdd" class="btn btn-info" style='position: absolute; top: 5px; z-index: 101;'>Добавить</button>

    <!-- Добалвение новой строки учета -->
    <script>

        $('#btnAdd').on('click', function(){

            // Добавляем строку, перед этим увеличив высоту грида (чтобы избежать его собственного скроллинга)
            var newHeight = adjustGridHeightToNewRowsCount($('#uuGrid').jqxGrid('getrows').length + 1);
            $('#uuGrid').jqxGrid('addrow', null, {
                'date': moment().format('DD.MM.YYYY'),
                'utype': uTypeList[0],
                'sum': '0,00',
                'account': accountList[0],
                'category': categoryList[0]
            });

            // Снимаем выделение (ранее имевшееся) и выделяем первый столбец у добавленной строки
            $("#uuGrid").jqxGrid('clearselection');
            $("#uuGrid").jqxGrid('selectcell', $("#uuGrid").jqxGrid("getrows").length-1, 'sum');

            // Эта пара вызовов делает grid активным (клавишы влево вправо вверх вниз начинают
            // работать на нем). Если убрать эти вызовы то клавишы не работают пока не кликнем в грид.
            $("#contentuuGrid").attr('tabindex', 2);
            $("#contentuuGrid").focus();

            // Скроллинг к последнему пикселю
            $(window).scrollTop(1000 + newHeight);

        });
    </script>

    <div style="margin-left: 150px; margin-top: 5px;">

        <div>
            <h5 style="margin: 3px 0; color: rgb(39, 100, 133);">
                Денег на счетах, для сверки <div style="float: right;">Всего: {{ getTotalBalance() }}</div>
            </h5>

            <div class="balance__account_block" ng-repeat="a in accountBalanceList">
                <div class="balance__cell balance__account_name"><div>{{ a.name }}</div></div>
                <div class="balance__cell balance__account_sum"><div>{{ formatBalance(a.balance) }}</div></div>
            </div>

        </div>

    </div>

</div>
